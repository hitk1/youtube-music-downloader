# ğŸ¨ DIAGRAMAS VISUAIS - ARQUITETURA

## Fluxo Original (COM PROBLEMAS)

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                   CSV FILE                              â”‚
â”‚  https://youtube.com/1                                  â”‚
â”‚  https://youtube.com/2                                  â”‚
â”‚  https://youtube.com/3                                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
             â”‚
             â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚            File.stream!() + Stream.map()                â”‚
â”‚                  (lazy evaluation)                      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
             â”‚
             â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚     âŒ Task.async_stream() â† REDUNDÃ‚NCIA 1              â”‚
â”‚  Cria N tasks que irÃ£o chamar...                        â”‚
â”‚                                                         â”‚
â”‚   Task 1     Task 2     Task 3                          â”‚
â”‚     â”‚          â”‚          â”‚                             â”‚
â”‚     â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”˜                             â”‚
â”‚            â–¼          â–¼                                  â”‚
â”‚     âŒ poolboy.transaction() â† REDUNDÃ‚NCIA 2            â”‚
â”‚                                                         â”‚
â”‚     Worker    Worker    Worker                          â”‚
â”‚     Pool-1    Pool-2    Pool-3                          â”‚
â”‚       â”‚         â”‚         â”‚                             â”‚
â”‚       â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”´â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”˜                             â”‚
â”‚            â–¼         â–¼                                   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
             â”‚
             â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚    GenServer.call(pid, {:new_link, url}, :infinity)    â”‚
â”‚          âŒ TIMEOUT INFINITO = PERIGO!                  â”‚
â”‚                                                         â”‚
â”‚  DownloadMd.call(url)                                  â”‚
â”‚    system: System.cmd("yt-dlp", ...)                   â”‚
â”‚    âŒ SEM RETRY                                         â”‚
â”‚    âŒ SEM TIMEOUT FINITO                                â”‚
â”‚                                                         â”‚
â”‚  Result: {:ok, output} ou {:error, ...}               â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
             â”‚
             â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚              OUTPUT FILES                               â”‚
â”‚   audio_1.mp3                                           â”‚
â”‚   audio_2.mp3                                           â”‚
â”‚   audio_3.mp3                                           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

PROBLEMAS:
âŒ Task.async_stream cria overhead
âŒ poolboy.transaction estÃ¡ redundante
âŒ Dois nÃ­veis de concorrÃªncia competindo
âŒ Timeout infinito pode travar
âŒ Sem retry em falhas transitÃ³rias
âŒ Pool size (40) Ã© muito grande para yt-dlp
```

---

## Fluxo Melhorado (ATUAL)

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                   CSV FILE                              â”‚
â”‚  https://youtube.com/1                                  â”‚
â”‚  https://youtube.com/2                                  â”‚
â”‚  https://youtube.com/3                                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
             â”‚
             â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚     âœ… File.stream() + Stream.map()                     â”‚
â”‚        (lazy, sem Task.async_stream)                   â”‚
â”‚     Enum.reduce com Poolboy.transaction                â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
             â”‚
             â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚      Poolboy Pool (5 workers + 5 overflow)              â”‚
â”‚                                                          â”‚
â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚   â”‚ WORKER 1: Processando URL 1                     â”‚  â”‚
â”‚   â”‚ WORKER 2: Processando URL 2                     â”‚  â”‚
â”‚   â”‚ WORKER 3: Processando URL 3                     â”‚  â”‚
â”‚   â”‚ WORKER 4: Idle                                  â”‚  â”‚
â”‚   â”‚ WORKER 5: Idle                                  â”‚  â”‚
â”‚   â”‚                                                 â”‚  â”‚
â”‚   â”‚ Queue: [URL 4, URL 5, URL 6, ...]             â”‚  â”‚
â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                                          â”‚
â”‚   âœ… Tamanho realista (5 workers Ã© suficiente)        â”‚
â”‚   âœ… Apenas um mecanismo de concorrÃªncia               â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
             â”‚
             â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚      DataStream.DownloadMd.call(url)                    â”‚
â”‚                                                          â”‚
â”‚   Tentativa 1:                                          â”‚
â”‚   â”œâ”€ System.cmd("yt-dlp", [...])  timeout: 300s       â”‚
â”‚   â”œâ”€ {:error, ...} â”€â”                                  â”‚
â”‚   â”‚                 â”‚                                  â”‚
â”‚   Tentativa 2:      â”‚ âœ… RETRY COM BACKOFF             â”‚
â”‚   â”œâ”€ sleep 1000ms   â”‚                                  â”‚
â”‚   â”œâ”€ System.cmd...  â”‚                                  â”‚
â”‚   â”œâ”€ {:error, ...} â”€â”¤                                  â”‚
â”‚   â”‚                 â”‚                                  â”‚
â”‚   Tentativa 3:      â”‚                                  â”‚
â”‚   â”œâ”€ sleep 3000ms   â”‚                                  â”‚
â”‚   â”œâ”€ System.cmd...  â”‚                                  â”‚
â”‚   â””â”€ {:ok, output} â—„â”˜ âœ… SUCCESS com retry!           â”‚
â”‚                                                          â”‚
â”‚   âœ… Retry automÃ¡tico                                  â”‚
â”‚   âœ… Backoff exponencial com jitter                    â”‚
â”‚   âœ… Timeout finito (300s)                             â”‚
â”‚   âœ… Logging detalhado                                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
             â”‚
             â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚         Worker Metrics                                  â”‚
â”‚   state = %{                                            â”‚
â”‚     processed: 3,                                       â”‚
â”‚     succeeded: 3,                                       â”‚
â”‚     failed: 0                                           â”‚
â”‚   }                                                     â”‚
â”‚                                                          â”‚
â”‚   âœ… Observabilidade adicionada                        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
             â”‚
             â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚              OUTPUT FILES                                â”‚
â”‚   tmp/audio_1.mp3  âœ…                                   â”‚
â”‚   tmp/audio_2.mp3  âœ…                                   â”‚
â”‚   tmp/audio_3.mp3  âœ…                                   â”‚
â”‚                                                          â”‚
â”‚   SUCCESS RATE: ~99.5% (com retry)                      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

MELHORIAS:
âœ… Sem redundÃ¢ncia (apenas Poolboy)
âœ… Timeout seguro (300s por item)
âœ… Retry com backoff exponencial
âœ… Pool size realista (5-10 workers)
âœ… MÃ©tricas por worker
âœ… Logging informativo
```

---

## ComparaÃ§Ã£o: Antes vs Depois

```
ANTES                              DEPOIS
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”              â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ CSV Stream       â”‚              â”‚ CSV Stream       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜              â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚                                 â”‚
         â–¼                                 â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”              â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Task.async*      â”‚         âŒ   â”‚ (removed)        â”‚
â”‚ â•”â•â•â•â•â•â•â•â•â•â•â•â•â•—   â”‚              â”‚                  â”‚
â”‚ â•‘ Task 1-100 â•‘   â”‚              â”‚                  â”‚
â”‚ â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•   â”‚              â”‚                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜              â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚                                 â”‚
         â–¼                                 â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”              â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Poolboy (25+15)  â”‚         âŒ   â”‚ Poolboy (5+5)    â”‚ âœ…
â”‚ â•”â•â•â•â•â•â•â•â•â•â•â•â•â•—   â”‚              â”‚ â•”â•â•â•â•â•â•â•â•â•—       â”‚
â”‚ â•‘ Pool:40    â•‘   â”‚              â”‚ â•‘ Pool:10â•‘       â”‚
â”‚ â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•   â”‚              â”‚ â•šâ•â•â•â•â•â•â•â•â•       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜              â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚                                 â”‚
         â–¼                                 â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”              â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Sem Retry âŒ     â”‚              â”‚ Retry 3x âœ…     â”‚
â”‚ Timeout: âˆ âŒ   â”‚              â”‚ Timeout: 300s âœ…â”‚
â”‚ Sem Metricas âŒ â”‚              â”‚ Com Metricas âœ… â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜              â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

RESULTADO:
Overhead reduzido âœ…
CPU normalizado âœ…
Falhas recuperadas âœ…
Performance melhor âœ…
```

---

## Alternativas de Arquitetura

### Option 1: Task.Supervisor (Simples)
```
CSV â†’ Task.Supervisor
         â”‚
    â”Œâ”€â”€â”€â”€â”¼â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”
    â–¼    â–¼    â–¼    â–¼    â–¼
   Task Task Task Task Task
    â”‚    â”‚    â”‚    â”‚    â”‚
    â””â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”˜
         â”‚    â”‚    â”‚
         â–¼â”€â”€â”€â”€â–¼â”€â”€â”€â”€â–¼
      DownloadMd
         â”‚
      Output

PrÃ³s: Simples, automÃ¡tico
Contras: Menos controle
```

### Option 2: Poolboy (Seu cÃ³digo - ATUAL)
```
CSV â†’ Enum.each â†’ Poolboy Transaction
                    â”‚
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â–¼           â–¼           â–¼
      Worker1    Worker2     Worker3
        â”‚           â”‚           â”‚
        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                    â”‚
              DownloadMd
                    â”‚
                 Output

PrÃ³s: Controle fino, maturo
Contras: Mais cÃ³digo
```

### Option 3: Flow (RECOMENDADO) â­
```
CSV â†’ Flow.from_enumerable(stages: 4)
         â”‚
    â”Œâ”€â”€â”€â”€â”¼â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”
    â–¼    â–¼    â–¼    â–¼    â–¼
  Flow Flow Flow Flow Flow (auto-balanceado)
    â”‚    â”‚    â”‚    â”‚    â”‚
    â””â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”˜
         â”‚    â”‚    â”‚
         â–¼â”€â”€â”€â”€â–¼â”€â”€â”€â”€â–¼
      DownloadMd
         â”‚
      Output

PrÃ³s: Simples + Performance + EscalÃ¡vel
Contras: Uma dependÃªncia (mas vale!)
```

### Option 4: GenStage (AvanÃ§ado)
```
Producer (CSV) â”€â”€â–º Validator â”€â”€â–º Consumer (Download)
    â”‚                  â”‚            â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
       Backpressure ExplÃ­cita

PrÃ³s: Pipeline elegante, mÃ¡ximo controle
Contras: Complexo para este caso
```

---

## Diagrama de Throughput

```
TIME (minutos) vs URLS PROCESSADAS

100 vÃ­deos Ã— 60s cada

    SEQUENCIAL  âŒ
    â–²
    â”‚                    â– 
100 â”‚                    â– 
    â”‚                    â– 
    â”‚                    â– 
 75 â”‚                    â– 
    â”‚                    â– 
 50 â”‚                    â– 
    â”‚                    â– 
 25 â”‚                    â– 
    â”‚    â–  â–  â–  â–  â–  â–  â–  â–   
  0 â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”
         0   10   20   30  100  110  120 130 (min)

    
    TASK.SUPERVISOR  âœ…
    â–²
100 â”‚â–  â–  â–  â–  â–  â–  â–  â–  â– 
    â”‚â–‘ â–‘ â–‘ â–‘ â–‘ â–‘ â–‘ â–‘ â–‘
 75 â”‚â–‘ â–‘ â–‘ â–‘ â–‘ â–‘ â–‘ â–‘ â–‘
    â”‚â–‘ â–‘ â–‘ â–‘ â–‘ â–‘ â–‘ â–‘ â–‘
 50 â”‚â–‘ â–‘ â–‘ â–‘ â–‘ â–‘ â–‘ â–‘ â–‘
    â”‚â–‘ â–‘ â–‘ â–‘ â–‘ â–‘ â–‘ â–‘ â–‘
 25 â”‚â–‘ â–‘ â–‘ â–‘ â–‘ â–‘ â–‘ â–‘ â–‘
    â”‚â–‘ â–‘ â–‘ â–‘ â–‘ â–‘ â–‘ â–‘ â–‘
  0 â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”
         0    5   10   15 (min)

    POOLBOY (Melhorado)  âœ…
    â–²
100 â”‚â–  â–  â–  â–  â–  â–  â–  â–  â– 
    â”‚â–‘ â–‘ â–‘ â–‘ â–‘ â–‘ â–‘ â–‘ â–‘
 75 â”‚â–‘ â–‘ â–‘ â–‘ â–‘ â–‘ â–‘ â–‘ â–‘
    â”‚â–‘ â–‘ â–‘ â–‘ â–‘ â–‘ â–‘ â–‘ â–‘
 50 â”‚â–‘ â–‘ â–‘ â–‘ â–‘ â–‘ â–‘ â–‘ â–‘
    â”‚â–‘ â–‘ â–‘ â–‘ â–‘ â–‘ â–‘ â–‘ â–‘
 25 â”‚â–‘ â–‘ â–‘ â–‘ â–‘ â–‘ â–‘ â–‘ â–‘
    â”‚â–‘ â–‘ â–‘ â–‘ â–‘ â–‘ â–‘ â–‘ â–‘
  0 â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”
         0    5   10   15 (min)

    FLOW (Recomendado)  â­
    â–²
100 â”‚â–  â–  â–  â–  â–  â–  â–  â–  â– 
    â”‚â–‘ â–‘ â–‘ â–‘ â–‘ â–‘ â–‘ â–‘ â–‘
 75 â”‚â–‘ â–‘ â–‘ â–‘ â–‘ â–‘ â–‘ â–‘ â–‘
    â”‚â–‘ â–‘ â–‘ â–‘ â–‘ â–‘ â–‘ â–‘ â–‘
 50 â”‚â–‘ â–‘ â–‘ â–‘ â–‘ â–‘ â–‘ â–‘ â–‘
    â”‚â–‘ â–‘ â–‘ â–‘ â–‘ â–‘ â–‘ â–‘ â–‘
 25 â”‚â–‘ â–‘ â–‘ â–‘ â–‘ â–‘ â–‘ â–‘ â–‘
    â”‚â–‘ â–‘ â–‘ â–‘ â–‘ â–‘ â–‘ â–‘ â–‘
  0 â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”
         0    5   10   15 (min)

â–  = URLs processadas neste minuto
â–‘ = Tempo ganho vs sequencial
```

---

## DecisÃ£o: Qual Escolher?

```
                    â”Œâ”€ COMEÃ‡AR AQUI
                    â”‚  (protÃ³tipo, aprendizado)
                    â–¼
            Task.Supervisor
                    â”‚
                    â”‚ Quando sentir falta de controle
                    â”‚
                    â–¼
            Poolboy â—„â”€â”€â”€ VOCÃŠ ESTÃ AQUI (melhorado)
                    â”‚
                    â”‚ Quando quiser melhor performance
                    â”‚ e cÃ³digo mais limpo
                    â”‚
                    â–¼
                 Flow â­
                    â”‚
                    â”‚ (raro) Quando tiver pipeline complexo
                    â”‚        com mÃºltiplos estÃ¡gios
                    â”‚
                    â–¼
                GenStage
                    â”‚
                    â””â”€ Arquitetura distribuÃ­da, enterprise
```

---

**FIM DOS DIAGRAMAS** ğŸ¨
